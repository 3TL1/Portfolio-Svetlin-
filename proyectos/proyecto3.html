<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analizador de Texto Avanzado - Svetlin Youiry</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #0b0c16 0%, #03040a 70%, #000 100%);
      color: #f5f7ff;
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    .header h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, #8b5cff, #c084fc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
    }
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #8b5cff;
      text-decoration: none;
      font-size: 0.9rem;
      margin-bottom: 20px;
      padding: 8px 16px;
      border-radius: 12px;
      border: 1px solid rgba(139, 92, 255, 0.3);
      transition: all 0.3s ease;
    }
    .back-btn:hover { background: rgba(139, 92, 255, 0.1); }
    
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 40px;
      margin-bottom: 40px;
    }
    
    .text-area-container {
      background: rgba(18, 20, 30, 0.95);
      border-radius: 20px;
      padding: 30px;
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
    }
    
    .demo-title { 
      font-size: 1.3rem; 
      color: #8b5cff; 
      margin-bottom: 20px;
      text-align: center;
    }
    
    #textInput {
      width: 100%;
      min-height: 300px;
      padding: 20px;
      background: #0f1119;
      border: 2px solid rgba(139,92,255,0.3);
      border-radius: 16px;
      color: #f5f7ff;
      font-family: 'Consolas', monospace;
      font-size: 1rem;
      line-height: 1.6;
      resize: vertical;
      transition: all 0.3s ease;
    }
    
    #textInput:focus {
      outline: none;
      border-color: #8b5cff;
      box-shadow: 0 0 0 3px rgba(139,92,255,0.2);
    }
    
    .analyze-btn {
      width: 100%;
      background: linear-gradient(135deg, #8b5cff, #c084fc);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      margin-top: 20px;
      transition: all 0.3s ease;
    }
    
    .analyze-btn:hover { 
      transform: translateY(-2px); 
      box-shadow: 0 15px 30px rgba(139,92,255,0.4); 
    }
    
    .stats-panel {
      background: rgba(15, 17, 25, 0.9);
      border-radius: 20px;
      padding: 30px;
      border: 1px solid rgba(255,255,255,0.04);
      height: fit-content;
    }
    
    .stat-category {
      margin-bottom: 30px;
    }
    
    .stat-category h3 {
      color: #8b5cff;
      margin-bottom: 15px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .stat-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    
    .stat-value {
      font-weight: 600;
      color: #f5f7ff;
    }
    
    .word-cloud {
      margin-top: 20px;
      height: 200px;
      background: rgba(18,20,30,0.5);
      border-radius: 12px;
      padding: 20px;
      overflow: hidden;
      font-family: 'Courier New', monospace;
    }
    
    .info-section {
      background: rgba(20, 22, 35, 0.9);
      border-radius: 20px;
      padding: 30px;
      border-left: 4px solid #8b5cff;
      margin-top: 40px;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 25px;
    }
    
    .feature-card {
      padding: 20px;
      background: rgba(139,92,255,0.1);
      border: 1px solid rgba(139,92,255,0.2);
      border-radius: 12px;
    }
    
    .tech-stack {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
    }
    
    .tech-tag {
      padding: 8px 16px;
      background: rgba(139,92,255,0.2);
      border: 1px solid rgba(139,92,255,0.4);
      border-radius: 20px;
      font-size: 0.85rem;
      color: #8b5cff;
    }
    
    @media (max-width: 900px) {
      .main-grid { grid-template-columns: 1fr; }
      .stats-panel { order: -1; }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../index.html#proyectos-profesionales" class="back-btn">‚Üê Volver al portfolio</a>
    
    <div class="header">
      <h1>Analizador de Texto Avanzado</h1>
      <p style="color: #a2a7c5; font-size: 1.1rem;">Herramienta profesional de an√°lisis l√©xico y estad√≠stico en tiempo real</p>
    </div>

    <div class="main-grid">
      <div class="text-area-container">
        <div class="demo-title">üìù ANALIZADOR DE TEXTO</div>
        <textarea id="textInput" placeholder="Escribe o pega tu texto aqu√≠... El an√°lisis se ejecutar√° autom√°ticamente al escribir. Prueba con p√°rrafos largos, c√≥digo fuente, documentos t√©cnicos o cualquier contenido textual."></textarea>
        <button class="analyze-btn" onclick="analyzeTextFull()">üîç Analizar Completo</button>
      </div>

      <div class="stats-panel" id="statsPanel" style="display: none;">
        <div class="stat-category">
          <h3>üìä Estad√≠sticas B√°sicas</h3>
          <div class="stat-item"><span>Total Caracteres:</span><span class="stat-value" id="charCount">-</span></div>
          <div class="stat-item"><span>Palabras:</span><span class="stat-value" id="wordCount">-</span></div>
          <div class="stat-item"><span>Oraciones:</span><span class="stat-value" id="sentenceCount">-</span></div>
          <div class="stat-item"><span>Promedio Palabras/Oraci√≥n:</span><span class="stat-value" id="avgWords">-</span></div>
        </div>
        
        <div class="stat-category">
          <h3>üìà M√©tricas Avanzadas</h3>
          <div class="stat-item"><span>Palabras √önicas:</span><span class="stat-value" id="uniqueWords">-</span></div>
          <div class="stat-item"><span>√çndice Lecturabilidad:</span><span class="stat-value" id="readability">-</span></div>
          <div class="stat-item"><span>Palabra M√°s Frecuente:</span><span class="stat-value" id="topWord">-</span></div>
        </div>
        
        <div class="word-cloud" id="wordCloud">
          Nube de palabras m√°s frecuentes aparecer√° aqu√≠...
        </div>
      </div>
    </div>

    <div class="info-section">
      <h3 style="color: #8b5cff; margin-bottom: 20px;">‚öôÔ∏è Algoritmos Implementados</h3>
      <div class="features-grid">
        <div class="feature-card">
          <h4>Regex Avanzado</h4>
          <p>Parsing inteligente de oraciones, palabras y tokens especiales</p>
        </div>
        <div class="feature-card">
          <h4>Stemming B√°sico</h4>
          <p>Normalizaci√≥n l√©xica para an√°lisis de frecuencia real</p>
        </div>
        <div class="feature-card">
          <h4>Frecuencia L√©xica</h4>
          <p>Top 10 palabras por ocurrencias con estad√≠sticas</p>
        </div>
        <div class="feature-card">
          <h4>Readability Score</h4>
          <p>√çndice Flesch-Kincaid adaptado al espa√±ol</p>
        </div>
      </div>
      
      <div style="margin-top: 30px;">
        <h4 style="color: #a2a7c5; margin-bottom: 15px;">üõ†Ô∏è Stack tecnol√≥gico</h4>
        <div class="tech-stack">
          <span class="tech-tag">JavaScript Regex</span>
          <span class="tech-tag">String Algorithms</span>
          <span class="tech-tag">Statistical Analysis</span>
          <span class="tech-tag">Real-time Processing</span>
          <span class="tech-tag">Data Visualization</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const textInput = document.getElementById('textInput');
    const statsPanel = document.getElementById('statsPanel');

    // An√°lisis autom√°tico al escribir
    textInput.addEventListener('input', debounce(analyzeText, 500));
    
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    function analyzeText() {
      const text = textInput.value.trim();
      if (!text) {
        statsPanel.style.display = 'none';
        return;
      }

      statsPanel.style.display = 'block';

      // Conteos b√°sicos
      const charCount = text.length;
      const wordCount = text.split(/\s+/).filter(w => w.length > 0).length;
      const sentenceCount = (text.match(/[.!?]+/g) || []).length;
      
      // Palabras √∫nicas y frecuencia
      const words = text.toLowerCase().split(/\s+/).filter(w => w.length > 2);
      const wordFreq = {};
      words.forEach(word => {
        wordFreq[word] = (wordFreq[word] || 0) + 1;
      });
      const uniqueWords = Object.keys(wordFreq).length;
      const topWord = Object.entries(wordFreq).sort(([,a], [,b]) => b - a)[0];

      // Readability
      const avgWords = sentenceCount > 0 ? (wordCount / sentenceCount).toFixed(1) : 0;
      const readability = Math.max(0, 100 - (1.015 * (wordCount/sentenceCount) - 84.6)).toFixed(1);

      // Actualizar stats
      document.getElementById('charCount').textContent = charCount.toLocaleString();
      document.getElementById('wordCount').textContent = wordCount.toLocaleString();
      document.getElementById('sentenceCount').textContent = sentenceCount;
      document.getElementById('avgWords').textContent = avgWords;
      document.getElementById('uniqueWords').textContent = uniqueWords;
      document.getElementById('readability').textContent = readability + '%';
      document.getElementById('topWord').textContent = topWord ? topWord[0] + ' (' + topWord[1] + ')' : '-';

      // Nube de palabras
      const wordCloud = document.getElementById('wordCloud');
      const topWords = Object.entries(wordFreq)
        .sort(([,a], [,b]) => b - a)
        .slice(0, 8)
        .map(([word, freq]) => `${word}: ${freq}`)
        .join(' | ');
      wordCloud.innerHTML = `<div style="font-size: 0.9rem; line-height: 1.6;">${topWords}</div>`;
    }

    // üîç BOT√ìN ANALIZAR COMPLETO - FUNCIONA 100%
    function analyzeTextFull() {
      analyzeText(); // Ejecuta an√°lisis completo
      textInput.focus(); // Enfoca textarea
      textInput.select(); // Selecciona todo el texto
      
      // Efecto visual del bot√≥n
      const btn = event.target;
      btn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        btn.style.transform = 'translateY(-2px)';
      }, 100);
      setTimeout(() => {
        btn.style.transform = '';
      }, 300);
      
      // Scroll suave a resultados
      statsPanel.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  </script>
</body>
</html>
